{% extends "base.html" %}

{% block content %}
<br>

<!-- stats cards -->
<div class="row row-cols-1 row-cols-md-2 g-4 pb-5">
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title">{{ average_winning_score }}</h2>
        <p class="card-text">Average Winning Score</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title">{{ average_score }}</h2>
        <p class="card-text">Average Gameweek score</p>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title">{{ lowest_score }} </h2>
        <p class="card-text"> Lowest Gameweek Score <span title="Will show a value of 0 at the start of each gameweek"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16" data-toggle="tooltip" title="Antony">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
          <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
        </svg> </span> </p> 
        
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card">
      <div class="card-body">
        <h2 class="card-title"> {{ highest_score }}</h2>
        <p class="card-text">Highest Gameweek Score</p>
      </div>
    </div>
  </div>
</div>

<!-- stat graphs -->
<div class="card mb-3">
  <div class="card-header text-white border-dark" style="background-color: #02894e;">
    Stat graphs
</div>

<div class="card-body border-secondary"></div>
<div id="stat_graphs" class="carousel carousel-dark slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for graph in stat_graphs %}

          <div class="carousel-item {% if loop.index == 1 %} active {% endif %}" id="slide{{ loop.index }}">
            <img src="{{ graph }}" class="d-block w-100">
          </div>

   {% endfor %}
 </div>
 <button class="carousel-control-prev" type="button" data-bs-target="#stat_graphs" data-bs-slide="prev">
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#stat_graphs" data-bs-slide="next">
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Next</span>
</button>
</div>
</div>

<!-- Head to Head Scores -->
<div class="card mb-3">
  <div class="card-header text-white border-dark" style="background-color: #02894e;">
    Head to Head scores
  </div>
</div>
<div class="card-body border-secondary">
  <table class="table">
    <tbody>
    <caption class="caption-top text-left"> Wins - Draws - Wins </caption>
    {% for scores in h2h_scores %}
      <tr>
        <td class="text-end"> {{scores.player1}} </td>
        <td class="text-center"> {{scores.p1_score}} - {{ scores.draw }} - {{scores.p2_score}}</td>
        <td class="text-start">{{ scores.player2 }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>



{% endblock %}